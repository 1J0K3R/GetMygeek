@page "/"
@using GetMygeek.Models
@rendermode InteractiveServer

<PageTitle>GetMyGeek</PageTitle>

<SearchComponant ResearchQuery="@researchQuery" OnSearch="@UpdateResearchQuery" />

@if (researchQuery.IsImplement())
{
    <ListeProfilVue ResearchQuery = "@researchQuery" />
}

@code {
    /// <summary>
    /// L'objet representant la recherche lancee par l'utilisateur
    /// </summary>
    public ResearchQuery researchQuery = new();

    /// <summary>
    /// Cette méthode est appelée lorsque la recherche est déclenchée dans le composant enfant
    /// Permet la récupération d'un objet retournée par l'enfant
    /// </summary>
    /// <param name="updatedResearchQuery"></param>
    private void UpdateResearchQuery(ResearchQuery updatedResearchQuery)
    {
        researchQuery = updatedResearchQuery;
        StateHasChanged();
    }
}